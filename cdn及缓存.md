### cdn及浏览器缓存

一、为什么使用CDN或缓存、解决什么问题

    1 网络延迟
        浏览器获取资源是从网络环境中，所以会带来延迟。为了提高加载速度。


    2 减少数据传输体积
        不使用缓存，每次都会从服务器重新拉取js css img 等资源。造成重复下载大量资源


    3 说明：
        用户第一次请求网站，浏览器会从服务器一次性拉取所有资源。

        浏览器拿到资源后，会根据请求头缓存配置，判断是否将资源缓存到本地

        当第二次请求的时候，浏览器判断是否优先读取缓存


二、CDN或缓存介绍

    1 CDN介绍、优点

        根据不同网络、不同地区用户，创建接近用户网络的边缘服务器，然后将文件缓存在这些边缘服务器（节点）上

        电信cdn 联通cdn 移动cdn 山东cdn 河北cdn



三、缓存--浏览器缓存
    
    1 策略
        Etag
            是一个哈希字符串
            服务器在响应中返回 Etag，浏览器在后续请求中携带此参数，如果服务器Etag和浏览器Etag一致，则304使用缓存

            使用范围：
                Expires 过期
                Cache-Control：no-cache 

                优先级较低



        Cache-Control


        Expires


        Last-Modified







三、知识点

        第一次访问网站，全部网络传输
        浏览器未关闭，重新打开站点，200，会优先从内存中读数据
        浏览器已关闭，打开站点，200，会优先从硬盘读取数据

        304状态和服务器有过http请求后，服务器告诉浏览器，资源未过期，可以继续使用缓存资源

